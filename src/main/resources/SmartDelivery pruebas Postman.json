{
	"info": {
		"_postman_id": "000b867e-ad7c-4c1d-997f-64fc68d7ec0d",
		"name": "SmartDelivery CRUD Collection",
		"description": "Colección para probar los endpoints CRUD de SmartDelivery sin persistencia. Variables: baseUrl, basePath.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "49300537",
		"_collection_link": "https://sgiraldo115562-9163606.postman.co/workspace/sgiraldo115562's-Workspace~88a23c9f-d6c2-402d-84e0-22ea3deae19e/collection/49300537-000b867e-ad7c-4c1d-997f-64fc68d7ec0d?action=share&source=collection_link&creator=49300537"
	},
	"item": [
		{
			"name": "Customers",
			"item": [
				{
					"name": "Create Customer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () { pm.response.to.have.status(201); });",
									"var json = pm.response.json();",
									"pm.collectionVariables.set('customerId', json.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"document\": \"{{customerDocument}}\",\n  \"name\": \"John Doe\",\n  \"phone\": \"3001234567\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/customers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Customers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/customers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Customer by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/customers/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Customer by Document",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/customers/document/1053868868",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers",
								"document",
								"1053868868"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Customer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n     \"document\": \"123456789\",\n        \"name\": \"cambio prueba 4\",\n        \"phone\": \"3001234588\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/customers/3",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Customer",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/customers/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"customers",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Deliverers",
			"item": [
				{
					"name": "Create Deliverer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var json = pm.response.json(); pm.collectionVariables.set('delivererId', json.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Repartidor 4\",\n  \"document\": \"12345679\",\n  \"phone\": \"3001234567\",\n  \"available\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/deliverers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Deliverers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/deliverers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Deliverer by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}{{basePath}}/deliverers/{{delivererId}}",
							"host": [
								"{{baseUrl}}{{basePath}}"
							],
							"path": [
								"deliverers",
								"{{delivererId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Deliverer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Alice Rider\",\n    \"document\": \"9876543211\",\n    \"phone\": \"3010000000\",\n    \"available\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/deliverers/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Availability",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/deliverers/1/availability?available=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers",
								"1",
								"availability"
							],
							"query": [
								{
									"key": "available",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Repartidor disponible TRUE",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/deliverers/available/one",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers",
								"available",
								"one"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Deliverer",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/deliverers/{{delivererId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"deliverers",
								"{{delivererId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "consultar repartidor asignado a vehiculo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/deliverers/{{delivererId}}/vehicle",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"deliverers",
								"{{delivererId}}",
								"vehicle"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Packages",
			"item": [
				{
					"name": "Create Package",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201/200', function () { pm.expect([200,201]).to.include(pm.response.code); });",
									"var json = pm.response.json(); pm.collectionVariables.set('packageId', json.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"weight\": 1.5,\n  \"description\": \"Caja mediana\",\n  \"recipientName\": \"Carlos Pérez\", // Nombre Destinatario\n\"deliveryAddress\": \"Cra 1 # 2-3\"  // Direccion de entrega\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/packages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Packages",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/packages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Package by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/packages/2",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Package",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"weight\": 1.5,\n  \"description\": \"Paquete cambiar nombre\",\n  \"recipientName\": \"Ana Gómez\",\n   \"deliveryAddress\": \"Cra 1 # 2-4\"  // Direccion de entrega\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/packages/2",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Package",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/packages/2",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Vehicles",
			"item": [
				{
					"name": "Create Vehicle (motorcycle)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var json = pm.response.json(); pm.collectionVariables.set('vehicleId', json.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plate\": \"htl76a\"\n}\n// aqui hay que cambiarle la clase de vehiculo a crear\n// seleccionar clase de vehiculo van - truck - motorcycle"
						},
						"url": {
							"raw": "{{baseUrl}}/api/vehicles?type=motorcycle",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles"
							],
							"query": [
								{
									"key": "type",
									"value": "motorcycle"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List Vehicles",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle by Plate",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/plate/abc123",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"plate",
								"abc123"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Vehicle Plate",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plate\": \"XYZ789\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/{{vehicleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Vehicle",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/{{vehicleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Asignar vehiculo a repartidor",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/deliverers/{{delivererId}}/vehicle/{{vehicleId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"deliverers",
								"{{delivererId}}",
								"vehicle",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar vehiculo asignado",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/deliverers/vehicle/{{vehicleId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"deliverers",
								"vehicle",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "desaignar vehiculo",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/deliverers/vehicle/{{vehicleId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"deliverers",
								"vehicle",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var json = pm.response.json(); pm.collectionVariables.set('orderId', json.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer\": { \"id\": 1 },\n  \"package\": { \"id\": 1 },\n  \"status\": \"REGISTERED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Orders",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Order by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/{{orderId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders",
								"{{orderId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Order (assign deliverer in body)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"delivererId\": 1\n}\n\n// aqui se le asigna y actualiza repartidor al paquete"
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders/{{orderId}}/assign/{{delivererId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders",
								"{{orderId}}",
								"assign",
								"{{delivererId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Unassign Deliverer",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/{{orderId}}/unassign",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders",
								"{{orderId}}",
								"unassign"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Order",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/3",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "cambiar estado de orden",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n      \"status\": \"REGISTERED\" // DELIVERED O REGISTERED\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders/{{orderId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"orders",
								"{{orderId}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080"
		},
		{
			"key": "basePath",
			"value": ""
		},
		{
			"key": "customerId",
			"value": ""
		},
		{
			"key": "customerDocument",
			"value": "1234567890"
		},
		{
			"key": "packageId",
			"value": ""
		},
		{
			"key": "delivererId",
			"value": ""
		},
		{
			"key": "vehicleId",
			"value": ""
		},
		{
			"key": "vehiclePlate",
			"value": "ABC123"
		},
		{
			"key": "orderId",
			"value": ""
		}
	]
}